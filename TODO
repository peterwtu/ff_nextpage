* 
* BUG src/chrome.manifest duplicates with xpi-ff4/chrome.manifest
* before release
** test it in firefox 4							 :rc:
** test 3.5/3.6/4 in windows						 :rc:
** test it in firefox 3
* add report bug link in preferences window.
* add user config file.
** which dir
   $profile or $HOME

   accept both. the user can create/edit both. load order is 
   --$HOME/.nextpage.json        # for all profiles, all firefox versions.
   $profile/.nextpage.json       # for this profile only.
   No error if they do not exists.

   // side note: maybe I can avoid using preferences. write preferences always
   // flash my hard disk lights. my preferences value has only 3 booleans!
   // but firefox 4 offer the ability to sync profiles online, so using
   // preferences has some advantages.
** syntax
   JS eval is good. eval in sandbox.
   JSON syntax is easy to read/write. JSON can be parsed, no need to call eval.

   see example in ~/.nextpage.json
** implementation
   learn eval in sandbox and get
   debugging: true
   working.

* pages not working
** with frames
http://pubs.opengroup.org/onlinepubs/9699919799/
then search "shell" in top left INDEX search box.

In firefox context menu: "frame"->"show this frame in new tab":
http://pubs.opengroup.org/onlinepubs/9699919799/utilities/sh.html
** reason unknown
   http://www.tianya.cn/publicforum/content/funinfo/1/1764322.shtml
   <a href="http://www.tianya.cn/publicforum/content/funinfo/1/1765096.shtml">下一页</a>
** page with complex frames, can't get nextpage link.			:low:
   http://docs.amazonwebservices.com/AmazonSimpleDB/latest/DeveloperGuide/index.html?using.html
   Here is the frameset in source:
   <frameset rows="50,*" cols="*" frameborder="no" color="#006699" onload="loadContent()">
      <frame src="_title.html" name="titleFrame" scrolling="no" noresize="yes">
      <frameset cols="220,*">
         <frame src="_toc.html" name="navFrame" scrolling="yes">

         <frame src="Welcome.html" name="mainFrame" onload="extractFileName()">
      </frameset>
   </frameset>

   no <a> tag in the source. page is dynamically loaded?

   using view selection source:
   <a accesskey="n" href="MakingRESTRequests.html"><img src="images/next.gif" alt="Next"></a>

** SPC jump to one spot, not scrolling
   http://tieba.baidu.com/f?kz=706343798

** sites doesn't have right value for content.scrollY or content.scrollMaxY
*** both are 0
    http://bbs.sgamer.com/html/Post_328269.html
*** content.scrollY is always 0
    http://msdn.microsoft.com/en-us/library/t65b74ad%28VS.80%29.aspx

** go to the wrong page
*** ambiguity
    http://www.readwriteweb.com/archives/top_10_semantic_web_products_of_2009.php
    one is "Next Post »" (twice, at top and bottom) the other is "Next  »" (at
    center, end of article)
* test what happens if the user has 'Find As You Type' on
** How to activate 'Find As You Type' in Firefox
   Tools - Options - Advanced - General
   Select 'Search for text when I start typing'
* keep addon page up-to-date
  https://addons.mozilla.org/en-US/firefox/addon/53484
* integrate nextpage to firemacs, and keep the two versions going.
  both the independent and the one inside firemacs.
  of course I need to rewrite firemacs, esp the UI, before that.
* TODO then submit addon to http://www.babelzilla.org/
   after I add preference/options window.
* make bindings configurable, also for firemacs.
* firefox china								:low:
  http://addons.sociz.com/firefox/
  my addon is not shown on this "official" website.
** will 火狐中国版 search only addon's on this website? not the global site?
   if so, I can only say god bless China.
* check and report bug							:low:
  why keycode doesn't work in key tag.
  see overlay.xul for more info.
* find/design an icon							:low:
  can be an open book with a 'n' on it
  the icon will be shown at addon menu. also on addon website.
* TODO failed page, gougou, this is a big one: 		      :later:
  http://content.gougou.com/content?cid=64912733AE5D3D9307BC7C8DF6017F266004EB2D&t=4&fmt=flv&usrinput=%D4%BD%B9%E2%B1%A6%BA%D0&dt=96000100&ps=640_360&rt=592kbs&plt=5160&spd=3&movieq=2&bp=1#com_anchor
  Can't access gougou.com in US.
* broken baidu?						       :needmoreinfo:
  can't use any hotkeys: p n SPC.
      space doesn't scroll on, can't go to prev/next page.
  NextPage menuitem in View menu does work.
  http://tieba.baidu.com/f?z=12607727&ct=335544320&lm=0&sc=0&rn=50&tn=baiduPostBrowser&word=%CC%EC%D6%AE%BA%DB&pn=0
  <a href="/f?z=12607727&amp;ct=335544320&amp;lm=0&amp;sc=0&amp;rn=30&amp;tn=baiduPostBrowser&amp;word=%CC%EC%D6%AE%BA%DB&amp;pn=30">下一页</a>
* add support for					    :complicated:low:
  http://www.cs.utexas.edu/users/moore/acl2/v4-2/About_the_ACL2_Home_Page.html
  <a href="foo.html"><img src="flying.gif"></a>

  need jQuery to do this effectively.
* binding keys appear twice in source code.				:low:
  remove the duplication.
  'SPC'
  'n'
  ...
* rewrite preference observer using preload JS Module.			:low:
  avoid explicit XPCOM calls.
